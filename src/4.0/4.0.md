> Note: The focus is currently on TFGrid 3.12. This TFGrid 4.0 documentation will be updated at a later stage.

THREEFOLD TFGrid v4.0

ThreeFold aims to build a complementary Internet that is co-owned, sovereign, more secure, cost-effective, and available worldwide. This project consists of two main layers: the capacity layer, which is a network of 3Nodes (servers), and the 3Bots layer.

3Bots are private virtual assistants that help users achieve a convenient, safe, and authentic digital life. This document specifically focuses on the 3Node layer and how anyone can become a farmer of this new Internet.

The document outlines the features of version 4.0 of the TFGrid and welcomes any feedback.

![|678.1806196440343x348](https://lh3.googleusercontent.com/B1zexWUUjreViRRjJNryFoTQhyh0TjE15vM8YtgqcSrnrhm1_zXEz_QRbA6vS7ZU78a76Bkp1E1jV-e6_3g3PtXfAsaoTZf5kChAFI5aFLQNFH2BW0Lw1T6q2oX-59_8yTbEvDTzQaDZChs5jIQuTZ0)

Together we have the chance to build a new Internet which consists of a network of 3Nodes. A 3Node is a standard computer which runs our Operating System called Zero-OS.

![|640x351](https://lh3.googleusercontent.com/_2ifHoycRbLSlJ35ZylexLVG78vpCqSvrwMGuGCYi1uCRqsHsVK2SFejesVXRhsul7AhaZcHs8jGWBeQZFtZ-WvSkfVGidxwNvaeGP_gDKpV832uuwZXetab4gQUfHfFyCMiBpyGcc6eUYL33yRyRUE)

# Architecture

![|640x357](https://lh3.googleusercontent.com/YSrUdFuwthD9yrNFGk2YnzPtcReiTfGpME6kbjayXfrwiuOUQrY6IqU99C8kvndF7Nef2kuw2wlPViZy7CknjEzydk5dChnqgdAkp3kI_MUATv3AVu8JWt3AmBO-Jkpzg0tu_YPA4jlfyg2HHk5ARhQ)

To learn more about our architecture see the following [link](https://docs.google.com/document/d/1R0A7_ru5z9aQWNBOWKdgPG0fuuNZM0mobB_uChdzcsU/edit#heading=h.ww1p2uply90e).

## Become a ThreeFold Farmer for our Generation 4 Network

![|667.1854193962896x216](https://lh3.googleusercontent.com/hrf5xwz3GfognNoJyVfXclMcv_oATg38jU1ZrDzBw49z9kgXJ5geW2muX0E_QS-Mha6tvEE9QsBD0t9c4yYlWSuUa7qY5xIe5AmCLh8Z12Q5MASw5pbfew2aqNMCI1LXNtVWTwctzotsCPEfD7swk0A)

Today you can become a farmer on our global proof of concept TFGrid network (version 3.0) see https://threefold.io/farm/, about 60,000 virtual CPU cores and 25,000,000 GB of storage are active.

We are launching our version 4.0 this summer which introduces our Internet of Internets concept. Each community can now roll out their own regional internet, this allows us all together to establish a global interconnected network of regional or community Internets. Each community Internet has its own currency called CHI which can be exchanged to the global reserve currency called TFT. TFT is the reserve currency of ThreeFold. TFT is used to allow people to go in between Regional Internets and execute on the Initial Staking requirement of a Regional Internet Validators.

### Step 1: set up your 3Bot and give it some Fuel

A 3Bot is your private gateway to the Web3 world. Deploy your 3Bot on our existing TFGrid network.
Send some money to your 3Bot (ETH, BTC, USDC,, …), your 3Bot will use these funds to manage your digital life on your behalf. Your 3Bot is also your main access point to the ThreeFold Grid.

### Step 2: acquire/build one or more 3Nodes

The 3Bot dashboard will have the option to order 3Nodes for ETH, BTC, USDC or USDT, which are delivered by a decentralized network of hardware suppliers. Alternatively, you can build your own 3Node using standard computer components. The 3.x network is currently available for you to get started, and there will be an upgrade path provided for 3.x farmers to transition to the 4.x network.

### Step 3: connect the 3Nodes to the current Internet

Once you have booted up your 3Nodes, you can register them in your 3Bot Dashboard. This will allow your node to be part of a selected ThreeFold regional Internet TFGrid, and you will start earning CHI as a result. It's a simple and straightforward process to become a part of this new Internet.

### Step 4: become a validator of a Regional ThreeFold Grid (optional)

You can become a validator by staking CHI tokens on your 3Node(s). There are several ways to participate in the CHI economic system.

# The TFGrid Farming Economic System

Your 3Node has a certain amount of compute, storage, and network capacity; a Farmer (miner) receives rewards for running a 3Node and connecting that capacity to the grid. This reward is expressed in CHI and can be bought/exchanged for TFT which is the reserve currency of the ThreeFold Grid.

The farmer receives CHI based on the following formula (pseudo code)

* Earned CHI = Base Farming + Base Utilization + Extra Utilization + Staking Rewards

* Base Farming Reward
  * = CU * FRF_CU + SU * FRF_SU
  * FRF = Farming Reward Factor (specified per CU and SU)
  * CU/SU = compute and storage units of a 3Node = hardware capacity capabilities
  * FRF's = Farming Reward Factor is agreed upon by DAO per regional internet.
    * FRF’s are expressed in milligram of gold,
gets converted to CHI depending on price at the time of farming
  * The aim of the Base Farming Reward is that the Farmer receives enough Rewards to compensate for the initial investment (over a nr of years) and the power requirements. Note we have a power management tool which allows farmers to not have to use energy unless people are using the 3Node for their IT workloads (applications).
  * CHI are minted (created) in order to provide this reward
* Base Utilization Reward
  * = UR * URF
  * UR = Utilization Reward = is total of all CHI spent to use capacity on the farm.
CHI as used to consume CU/SU, the utilization fee as paid by TFGrid Users
  * URF = Utilization Reward Factor = 20%
  * This URF will be agreed upon by DAO
* Extra Utilization Reward
  * Define by farmer for CU/SU or NU/ipaddr or per 3Node (dedicated server)
  * 70% -> to farmer, 20% to stakers, 10% to treasury
* Staking Reward
  * The Tokens as Farmed (CHI) are staked on the Farm.
  * All staked CHI on Farm (from farmer as well as other users) receive 10% of the UR = Utilization Reward
  * The Farmer receives his proportionate part of all TFT as staked on Farm e.g. if Farmer owns 50% of all CHI as staked on Farm, he/she will receive 50% of the 10% of the UR.

Proof of User Identity, Farmer Identity, Reputation, KYC State are all stored on the TFChain. Each Farmer has a Farmer 3Bot which allows the users of the Grid to communicate with the farmer in an automated way. The User 3Bot and the Farmer 3Bot agree on pricing, service levels, and requirements for a deployment. The Farmer 3Bot also manages the power state of a node, to make sure we don’t waste energy. This peer-to-peer design allows for ultimate scale and redundancy.

# The TFGrid Utilization Economy

Users of the ThreeFold Grid need to spend CHI to reserve and/or use the TFGrid capacity.
A user will use his/her 3Bot to use the services provided on the TF Grid.

The user's 3Bot can query the TFChain and TFGrid Universe to find the required IT capacity providing services based on following criteria:

* Reputation of Farmer
* Whether the Farmer is Commercial (see above) or Not
* Pricing of the IT Capacity
* Components Inside the Nodes (type of CPU, GPU, amount of SSD, …)
* Network Connectivity (performance)
* Location (country, region, …)
* Service Levels Provided (e.g. User can specify they want to achieve 99,9% uptime)

Starting from TFGrid 4.0 (summer 2023) we base all commercial payments based on a IOU (I Owe You) Invoicing and Payment mechanism. This is an exciting mechanism allowing for much more scale.

The basic pricing for the services (compute, storage and network) are defined by the DAO, the Commercial Service Level Fees are specified by the Farmer.

A user asks the 3Bot to prepare the deployment of a solution on his/her behalf and specifies the criteria (quality, location, …). The 3Bot will use the TFGrid Universe and TFChain to make sure the deployment request gets executed, we call this concept “smart contract for IT”, consensus can be achieved between multiple parties for deploying a workload in a predefined deterministic way.

The Farming Bot in combination with our Zero-OS (the operating system of 3Node) will track capacity used and will send IOU Invoices to the Validators as well as to the relevant User 3Bot. All of them will sign off on the validity of the IOU Invoice which will then become an IOU Payment as executed by 3Bot. At certain intervals all these IOU Payments get consolidated on the TFChain and payment becomes final. This design is very scalable and flexible. If Farmer or User would be of bad intent this will reflect on their Reputation Score.

While many other systems rely on “zero trust,” we want trust in our system. However, with trust comes responsibility and accountability. Thus, the Reputation Score is introduced to ensure that if, for example, payments are not made, this is reflected publicly and will damage this person’s opportunity to do business in the future.

Consumers of TFGrid capacity can receive discounts by having enough CHI staked (on validator or farms). The mechanism is very simple, if the Consumer has 12x the monthly required CHI staked there is a 40% discount, 24x the monthly 60%. These percentages are defined by DAO of a Regional Internet TFGrid.

# Read More

* [TFGrid 3.12 (introduces the tokenomics and concepts as also used on 4.x)](https://threefold.docsend.com/view/6nhyzmkxjsvjr654/d/4ksx6r2269wu8wgw)
* [Commercial Company which will promote and commercialize TFGrid 4.0](https://threefold.docsend.com/view/6nhyzmkxjsvjr654/d/4ksx6r2269wu8wgw)

# Governance

New for TFGrid 4.0 (serious change from 3.12)

## DAO

Each Regional Internet is managed by a DAO (Decentralised Autonomous Organization).

Participants of the DAO

* Users
  * Everyone who uses capacity of the Regional Internet = TFGrid
  * They do this by staking their TFT on a Validator and/or Farmers this is how they express their support, they don’t vote directly they give their support to validators or farmers who will vote on their behalf.
* TFGrid Validators and TFGrid Farmers
  * How voting is done from them based on powers they receive.
* Technology Council (phase 2)
  * Up to 12 people who audit and control software releases (how do we upgrade the grid)
  * Note: Selection process has not been defined but will be decided upon with the community. We may ask the community who might be interested and then create a short list and put it to the DAO for a vote.

## Auditing

TFGrid Validators run automated algorithms to check the correct behavior and authenticity of the different participants in the TFGrid ecosystem (farmers, users, …) in relation to the parameters as set in TFChain and expected behavior. The Validators are also responsible for consolidating the IOU Payments and referencing them against the information they already have about the Reputation of the different participants in a transaction.

# Definitions

## 3BOT

Your personal digital private assistant to help you organize your Internet Life.

The 3Bot helps you to manage your calendar, personal data and files, personal communication, digital money, deploy required solutions or applications on top of the TFGrid, participation in the DAO, communicate in an easy uniform way to the WEB2 and WEB3 world and so much more.

## 3NODE

The computers that extend the TFGrid with compute, storage and network capacity. 3Nodes are connected to each other using the standard Internet connectivity or peer-to-peer connections (meshed wireless, local fiber mesh, …)

## CHI

The Utility Token of a specific Regional Internet, a CHI is only usable within one Regional Internet.
The CHI can be exchanged with TFT to be able to transact in between Regional Internets.

CHI gets created as result of farming, running a validator node or as part of the CHI Genesis Pool

## mCHI

mCHI is 1/1000 of a CHI.

## Founding Guardians

Are the people who together decide to create a Regional Internet

These members will also define the initial bootstrap parameters of the TFChain and roll out the initial Blockchain Nodes.

* The amount of CHI which is printed as part of the creation of the Regional Internet,
this can never be more than 10% of the maximum CHI of a Regional Internet.
* The maximum CHI in a regional Internet (Typically 1 Billion)
* The initial price of a CHI (expressed in TFT), and how many CHI will be maximum/minimum be sold at this price and the time period.
* The full reward and TFChain parameters as defined in https://threefold.docsend.com/view/6nhyzmkxjsvjr654/d/4ksx6r2269wu8wgw

There need to be at least 9 Validators Nodes at the base for a Community (or Regional) Internet.

## Solution Providers

Anyone who creates a solution or a service on top of the TFGrid and receives CHI or any other currency for doing so.

## Community (or Regional) Internet

An Internet as owned by a community. This community may be located within a certain geographical area or united more so by beliefs, values, or mission. The founding members of the community run the initial validator nodes for this Internet and its corresponding TFGrid and TFChain.

## TFGrid

The Technical Infrastructure layer of a Regional Internet, is the network of the 3Nodes and the TFChain managing the governance and consensus primitives of the TFGrid

## TFGrid Universe

A lot of services as provided on the TFGrid are fully decentralized and not stored on any centralized or even blockchain mechanism. To query the state of these services or ask to be provided a service the 3Bot will on behalf of the user communicate over the TFGrid Universe, which is a peer-to-peer network which allows finding information as well as reliably asking for services. Even payments and invoicing happens over this mechanism. This allows for ultimate scale and reliability.

## TFChain

The blockchain governing a TFGrid.

## TF Mother Chain

The mother of all TFChains, this is where the reserve currency TFT lives and the DAO for decisions which are relevant for all regional Internets. On this chain a regional internet needs to be registered as well as the TFChain Genesis Contract per regional Internet approved.

To register a regional Internet enough TFT needs to be staked on the TF Mother Chain.

## TFChain Genesis Contract

The Founding Members of a Regional Internet define the specifics of the Regional Internet and its TFGrid.
These specifics are defined in a TFChain Genesis Contract. See above in “Founding Members” to learn more about how this works.

## TFChain Treasury

Is a systems wallet as owned by the TFChain itself.

The treasury is used to

* Allow people with TFT to buy the local CHI (e.g. to be able to stake, or buy capacity)
* Allows people with local CHI to buy TFT to use in other regional Internets.
* Allows the DAO to reward development work or other beneficial actions for the TFGrid.
* Allows the DAO to burn CHI if there would be too many in the treasury.

X percent from utilization of the TFGrid goes to the TFChain Treasury.

## TFChain Treasury Liquidity Pool

A pool in which Regional Internet members can pool their liquidities in the form of TFT, CHI and potentially other currencies. This allows liquidity and easy exchange between these currency pairs. A part of the Treasury might be used (as voted by DAO) to fund the liquidity pool.

## TFT

The reserve currency of ThreeFold. Used to allow people to go in between Regional Internets (from one local CHI to another) and execute on the Initial Staking requirement of a Regional Internet Validators. TFT remains an essential component of the ThreeFold economy in version 4.

## Guardian Validators

Are Nodes running the required software components for the proper functioning of a regional TFGrid. Initial Founders (Guardians) of a Regional Internet need to stake CHI to let the Validator Nodes function. Running a Validator results in receiving rewards in CHI.

The Guardian Validators do the following

* Guarantee the TFChain correct working (proof of stake blockchain).
* Audit the Capacity Provided by the TFGrid Farmers (happens by means of automatically generated auditing code which gets executed on 3Nodes randomly, this code will verify the state, available capacity and utilization of a node, this allows the TFGrid to find bad actors).
* Verification and Roll up of P2P Transactions to OnChain Transactions.

# What’s new compared to version 3.0

* TF Mother Chain Launch
  * People can register their Regional Internets on TF Mother Chain (est. Summer 2023).
  * People can stake for validators on the TF Mother Chain
* TFT becomes the reserve currency of the full ecosystem.
  * TFT is required for deploying a Regional internet as well as Becoming a Commercial Farmer of ThreeFold Internet Capacity (staking).
* TFT can be used to invest in ThreeFold COOP
  * ThreeFold COOP will do the commercialization of some services on top of the grid like our Web 3 Gateway, BTC Lightning Nodes, Ethereum Validators and other Tools, Decentralized Collaborative Applications …
* It will be much easier for a solution provider to build applications on top of TFGrid
  * Full flexibility for the solution provider to define pricing.
  * Nice tools to make it easy to make TFGrid Solutions based on 3Bot.
* Farming Economic System Improvements
  * Rewards for farmers are more balanced and in line with contribution, easier to prove.
* Super flexible and scalable thanks to IOU invoices and payments.
  * Is a digital short living contract which will get settled on a blockchain
* Introduction of 3Bot as entry point for
  * Developers: a consistent and easy safe way how to use TFGrid and Web 3.0
  * Farmers: an easy safe way how to manage your farm (pricing, power management)
  * For all: provides a true decentralized way to interact with your digital life.
* Multi-Chain
  * Our aim is to integrate the TF Ecosystem with 10+ different blockchains.
    * It will be possible to seamlessly buy TFT from all of these blockchains
    * Atomic swaps will be used for this feature. Planned Summer 2023.
  * Through a 3Bot people can easily
    * buy/sell TFT over any of those blockchains (using atomic swaps)
    * buy/sell CHI
  * Each person will be able to use their liquidity to make margin on the spread (difference between sale and buy price of TFT vs other currencies), and this happens over multiple blockchains using multiple currencies. This results in a real peer-to-peer pool liquidity.
